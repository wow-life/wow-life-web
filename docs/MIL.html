<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Micro services in Local | VikyTech</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Micro services in Local" />
<meta name="author" content="Vikhyath Choradia" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="We have all been there when we wanted to start multiple dependent micro service(s) at once in our local to develop / test an application." />
<meta property="og:description" content="We have all been there when we wanted to start multiple dependent micro service(s) at once in our local to develop / test an application." />
<link rel="canonical" href="https://vikytech.in/MIL" />
<meta property="og:url" content="https://vikytech.in/MIL" />
<meta property="og:site_name" content="VikyTech" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-04T16:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Micro services in Local" />
<script type="application/ld+json">
{"@type":"BlogPosting","url":"https://vikytech.in/MIL","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://vikytech.in/assets/img/name-logo.png"},"name":"Vikhyath Choradia"},"author":{"@type":"Person","name":"Vikhyath Choradia"},"headline":"Micro services in Local","dateModified":"2021-06-04T16:00:00+08:00","datePublished":"2021-06-04T16:00:00+08:00","description":"We have all been there when we wanted to start multiple dependent micro service(s) at once in our local to develop / test an application.","mainEntityOfPage":{"@type":"WebPage","@id":"https://vikytech.in/MIL"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="stylesheet" href="/assets/css/main.css?v=">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <div class="header-wrapper">
        
          <a href="https://vikytech.in/">
            <img src="/assets/img/name-logo.png" alt="Logo">
          </a>
        

        <p>Site to share my learnings in form of blogs.</p>

        

        

        

        <div class="menu">
          
            <a href="/"><div class="menu-item">Home</div></a>
          
            <a href="/about"><div class="menu-item">About</div></a>
          
            <a href="/posts"><div class="menu-item">Posts</div></a>
          
        </div>
      </div>
      </header>
      <section>

      <small>4 June 2021</small>
<h1>Micro services in Local</h1>

<p>We have all been there when we wanted to start multiple dependent micro service(s) at once in our local to develop / test an application.</p>

<p>Well as a developer I have always believed that writing automation take time but eventually saves time!!</p>

<p>Now that you have read until here you are curious enough to know the solution I have in mind right!!</p>

<p>Let quickly jump to that section below.</p>

<h2 id="setup">Setup</h2>

<p>The setup is quite simple and easy to setup for mac</p>

<ul>
  <li>
    <h3 id="install">Install</h3>
    <ul>
      <li>
        <h4 id="using-homebrew">Using homebrew</h4>
        <p><code class="language-plaintext highlighter-rouge">brew install foreman</code></p>
      </li>
      <li>
        <h4 id="using-npm">Using <a href="https://www.npmjs.com/package/foreman" target="_blank" rel="noopener noreferrer">npm</a>
</h4>
        <p><code class="language-plaintext highlighter-rouge">npm install -g foreman</code></p>
      </li>
    </ul>

    <p>Note: If you install via npm then replace the command <code class="language-plaintext highlighter-rouge">foreman</code> with <code class="language-plaintext highlighter-rouge">nf</code></p>
  </li>
  <li>
    <h3 id="define">Define</h3>

    <p>Go ahead and define a simple <code class="language-plaintext highlighter-rouge">Procfile</code> as below in <code class="language-plaintext highlighter-rouge">root</code> folder of all your services</p>
  </li>
</ul>

<div class="code-container">
    <button class="copy-code-button" aria-label="Copy code to clipboard"></button>
</div>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">&lt;BACKEND_SERVICE_NAME&gt;</span><span class="pi">:</span> <span class="s">cd PATH_TO_SERVICE &amp;&amp; &lt;COMMAND_TO_START_THE_SERVICE&gt;</span>
<span class="s">&lt;YET_ANOTHER_BACKEND_SERVICE_NAME&gt;</span><span class="pi">:</span> <span class="s">cd PATH_TO_SERVICE &amp;&amp;  &lt;COMMAND_TO_START_THE_SERVICE&gt;</span>
<span class="s">&lt;FRONTEND_SERVICE_NAME&gt;</span><span class="pi">:</span> <span class="s">cd PATH_TO_SERVICE &amp;&amp; &lt;COMMAND_TO_START_THE_SERVICE_2&gt;</span>
</code></pre></div></div>

<p><strong>Example:</strong></p>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">web</span><span class="pi">:</span> <span class="s">cd webserver &amp;&amp; ./gradlew build&gt;</span>
<span class="na">payment</span><span class="pi">:</span> <span class="s">cd payments &amp;&amp;  rails serve</span>
<span class="na">ui</span><span class="pi">:</span> <span class="s">cd frontend &amp;&amp; npm run dev</span>
</code></pre></div></div>

<ul>
  <li>
    <h3 id="run">Run</h3>
    <p><code class="language-plaintext highlighter-rouge">foreman start</code></p>
  </li>
</ul>

<p><strong>Logs:</strong></p>
<pre><code class="language-log">18:51:12: web.1     |  Web Server started listening on 0.0.0.0:8080
18:51:12: payment.1 |  Payments started listening on 0.0.0.0:3000
18:51:12: ui.1      |  node started listening on 0.0.0.0:4000
</code></pre>

<p>The setup is that simple and easy to use</p>

<h3 id="advance-usage">Advance usage</h3>
<p>You can start multiple instance of the any service to scale and balance the load</p>

<p><code class="language-plaintext highlighter-rouge">foreman start web=5 payment=3</code></p>

<p><strong>Logs:</strong></p>
<pre><code class="language-log">18:51:12: web.1     |  Web Server started listening on 0.0.0.0:8080
18:51:12: web.2     |  Web Server started listening on 0.0.0.0:8081
18:51:12: web.3     |  Web Server started listening on 0.0.0.0:8082
18:51:12: web.4     |  Web Server started listening on 0.0.0.0:8083
18:51:12: web.5     |  Web Server started listening on 0.0.0.0:8084
18:51:12: payment.1 |  Payments started listening on 0.0.0.0:3000
18:51:12: payment.2 |  Payments started listening on 0.0.0.0:3001
18:51:12: payment.3 |  Payments started listening on 0.0.0.0:3002
18:51:12: ui.1      |  node started listening on 0.0.0.0:4000
</code></pre>

<p>For more options and official documentation on the same find it <a href="https://ddollar.github.io/foreman" target="_blank" rel="noopener noreferrer">here</a></p>



  <small>tags:
    
      <a href="/tags/microservices"><em>#microservices</em></a>
    
  </small>




<script src="/assets/js/copyCode.js"></script>

      </section>
      <footer>
        
      </footer>
    </div>
    <script src="/assets/js/scale.fix.js"></script>
    
  </body>
</html>
